<!DOCTYPE html>
<html lang="zh-CN">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="robots" content="noodp" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
        <title>DOM是什么 - 可喜のlife</title><meta name="Description" content=""><meta property="og:title" content="DOM是什么" />
<meta property="og:description" content="封装了一些常见 DOM APIsGitHub 源码地址 前言 网页其实是一棵树。 JS 如何操作这棵树？ A：→ 浏览器会在 window 上加一个 document 属性 JS 用 document 来操作这棵树 上述步骤说明：JS 是用一" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://luuu4129955.github.io/posts/dom%E6%98%AF%E4%BB%80%E4%B9%88%E5%BE%85%E5%AE%8C%E5%96%84/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-02-14T15:27:43+08:00" />
<meta property="article:modified_time" content="2022-02-14T15:27:43+08:00" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="DOM是什么"/>
<meta name="twitter:description" content="封装了一些常见 DOM APIsGitHub 源码地址 前言 网页其实是一棵树。 JS 如何操作这棵树？ A：→ 浏览器会在 window 上加一个 document 属性 JS 用 document 来操作这棵树 上述步骤说明：JS 是用一"/>
<meta name="application-name" content="LoveIt">
<meta name="apple-mobile-web-app-title" content="LoveIt"><meta name="theme-color" content="#ffffff"><meta name="msapplication-TileColor" content="#da532c"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"><link rel="manifest" href="/site.webmanifest"><link rel="canonical" href="https://luuu4129955.github.io/posts/dom%E6%98%AF%E4%BB%80%E4%B9%88%E5%BE%85%E5%AE%8C%E5%96%84/" /><link rel="prev" href="https://luuu4129955.github.io/posts/es6%E4%BD%BF%E7%94%A8%E6%80%BB%E7%BB%93/" /><link rel="next" href="https://luuu4129955.github.io/posts/dom%E4%BA%8B%E4%BB%B6%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%A7%94%E6%89%98-/" /><link rel="stylesheet" href="/lib/normalize/normalize.min.css"><link rel="stylesheet" href="/css/style.min.css"><link rel="stylesheet" href="/lib/fontawesome-free/all.min.css"><link rel="stylesheet" href="/lib/animate/animate.min.css"><script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "headline": "DOM是什么",
        "inLanguage": "zh-CN",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https:\/\/luuu4129955.github.io\/posts\/dom%E6%98%AF%E4%BB%80%E4%B9%88%E5%BE%85%E5%AE%8C%E5%96%84\/"
        },"genre": "posts","keywords": "DOM","wordcount":  4077 ,
        "url": "https:\/\/luuu4129955.github.io\/posts\/dom%E6%98%AF%E4%BB%80%E4%B9%88%E5%BE%85%E5%AE%8C%E5%96%84\/","datePublished": "2022-02-14T15:27:43+08:00","dateModified": "2022-02-14T15:27:43+08:00","publisher": {
            "@type": "Organization",
            "name": "可喜"},"author": {
                "@type": "Person",
                "name": "可喜"
            },"description": ""
    }
    </script></head>
    <body header-desktop="fixed" header-mobile="auto"><script type="text/javascript">(window.localStorage && localStorage.getItem('theme') ? localStorage.getItem('theme') === 'dark' : ('' === 'auto' ? window.matchMedia('(prefers-color-scheme: dark)').matches : '' === 'dark')) && document.body.setAttribute('theme', 'dark');</script>

        <div id="mask"></div><div class="wrapper"><header class="desktop" id="header-desktop">
    <div class="header-wrapper">
        <div class="header-title">
            <a href="/" title="可喜のlife">😉可喜のlife</a>
        </div>
        <div class="menu">
            <div class="menu-inner"><a class="menu-item" href="/posts/"> 文章 </a><a class="menu-item" href="/tags/"> 标签 </a><a class="menu-item" href="/categories/"> 分类 </a><span class="menu-item delimiter"></span><a href="javascript:void(0);" class="menu-item theme-switch" title="切换主题">
                    <i class="fas fa-adjust fa-fw"></i>
                </a>
            </div>
        </div>
    </div>
</header><header class="mobile" id="header-mobile">
    <div class="header-container">
        <div class="header-wrapper">
            <div class="header-title">
                <a href="/" title="可喜のlife">😉可喜のlife</a>
            </div>
            <div class="menu-toggle" id="menu-toggle-mobile">
                <span></span><span></span><span></span>
            </div>
        </div>
        <div class="menu" id="menu-mobile"><a class="menu-item" href="/posts/" title="">文章</a><a class="menu-item" href="/tags/" title="">标签</a><a class="menu-item" href="/categories/" title="">分类</a><a href="javascript:void(0);" class="menu-item theme-switch" title="切换主题">
                <i class="fas fa-adjust fa-fw"></i>
            </a></div>
    </div>
</header>
<div class="search-dropdown desktop">
    <div id="search-dropdown-desktop"></div>
</div>
<div class="search-dropdown mobile">
    <div id="search-dropdown-mobile"></div>
</div>
<main class="main">
                <div class="container"><div class="toc" id="toc-auto">
            <h2 class="toc-title">目录</h2>
            <div class="toc-content" id="toc-content-auto"></div>
        </div><article class="page single"><h1 class="single-title animated flipInX">DOM是什么</h1><div class="post-meta">
            <div class="post-meta-line"><span class="post-author"><a href="/" title="Author" rel=" author" class="author"><i class="fas fa-user-circle fa-fw"></i>可喜</a></span></div>
            <div class="post-meta-line"><i class="far fa-calendar-alt fa-fw"></i>&nbsp;<time datetime="2022-02-14">2022-02-14</time>&nbsp;<i class="fas fa-pencil-alt fa-fw"></i>&nbsp;约 4077 字&nbsp;
                <i class="far fa-clock fa-fw"></i>&nbsp;预计阅读 9 分钟&nbsp;</div>
        </div><div class="details toc" id="toc-static"  kept="">
                <div class="details-summary toc-title">
                    <span>目录</span>
                    <span><i class="details-icon fas fa-angle-right"></i></span>
                </div>
                <div class="details-content toc-content" id="toc-content-static"><nav id="TableOfContents">
  <ul>
    <li><a href="#31-获取标签也叫元素">3.1 获取标签（也叫元素）</a></li>
    <li><a href="#32-获取特定的标签">3.2 获取特定的标签</a></li>
    <li><a href="#33-搞清楚获取到的元素是什么">3.3 搞清楚获取到的元素是什么</a>
      <ul>
        <li><a href="#heading"></a></li>
      </ul>
    </li>
  </ul>

  <ul>
    <li><a href="#41-增">4.1 增</a>
      <ul>
        <li><a href="#1innerhtml">1.innerHTML</a></li>
        <li><a href="#2appendchild">2.appendChild</a></li>
        <li><a href="#3创建一个新节点并插入指定位置">3.创建一个新节点并插入指定位置</a></li>
        <li><a href="#4-insertbefore">4. insertBefore</a></li>
      </ul>
    </li>
    <li><a href="#42-删">4.2 删</a>
      <ul>
        <li><a href="#1旧方法">1.旧方法</a></li>
        <li><a href="#2新方法">2.新方法</a></li>
        <li><a href="#3彻底删除节点">3.彻底删除节点</a></li>
        <li><a href="#4通过遍历父节点的子节点删除时">4.通过遍历父节点的子节点删除时</a></li>
      </ul>
    </li>
    <li><a href="#43-改">4.3 改</a>
      <ul>
        <li><a href="#1改文本">1.改文本</a></li>
        <li><a href="#2改类名-class">2.改类名 class</a></li>
        <li><a href="#3改样式-style">3.改样式 style</a></li>
        <li><a href="#4读标准属性">4.读标准属性</a></li>
        <li><a href="#5改事件处理函数">5.改事件处理函数</a></li>
        <li><a href="#6改爸爸">6.改爸爸</a></li>
      </ul>
    </li>
    <li><a href="#44-查">4.4 查</a>
      <ul>
        <li><a href="#1查爸爸">1.查爸爸</a></li>
        <li><a href="#2查爷爷">2.查爷爷</a></li>
        <li><a href="#3查子代">3.查子代</a></li>
        <li><a href="#4查兄弟姐妹">4.查兄弟姐妹</a></li>
        <li><a href="#5查第一个子代">5.查第一个子代</a></li>
        <li><a href="#6查最后一个子代">6.查最后一个子代</a></li>
        <li><a href="#7查上一个兄弟">7.查上一个兄弟</a></li>
        <li><a href="#8查下一个兄弟">8.查下一个兄弟</a></li>
        <li><a href="#9遍历一个-div-的全部元素">9.遍历一个 div 的全部元素</a></li>
      </ul>
    </li>
  </ul>
</nav></div>
            </div><div class="content" id="content"><blockquote>
<p>封装了一些常见 DOM APIs<a href="https://github.com/luuu4129955/DOM-demo1" target="_blank" rel="noopener noreffer">GitHub 源码地址</a></p>
</blockquote>
<p><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<h1 id="前言">前言</h1>
<ol>
<li>
<p>网页其实是一棵树。</p>
</li>
<li>
<p>JS 如何操作这棵树？</p>
<p>A：→ 浏览器会在 window 上加一个 document 属性</p>
</li>
<li>
<p>JS 用 document 来操作这棵树</p>
</li>
</ol>
<p><strong>上述步骤说明：JS 是用一个<code>document</code>对象来操作网页。</strong>
<!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<h1 id="1dom-定义">1.DOM 定义</h1>
<p>DOM 是 JS 操作网页的接口，全称为“文档对象模型”（Document Object Model）。它的作用是将网页转为一个 JavaScript 对象，从而可以用脚本进行各种操作（比如增删内容）。<!-- raw HTML omitted -->DOM 只是一个接口规范，可以用各种语言实现。所以严格地说，DOM 不是 JavaScript 语法的一部分，但是 DOM 操作是 JavaScript 最常见的任务，离开了 DOM，JavaScript 就无法控制网页。
<!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<h1 id="2dom-树">2.DOM 树</h1>
<p>看下面这段简单的 html 代码</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="p">&lt;</span><span class="nt">html</span> <span class="na">lang</span><span class="o">=</span><span class="s">&#34;zh&#34;</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">charset</span><span class="o">=</span><span class="s">&#34;UTF-8&#34;</span> <span class="p">/&gt;</span>
    <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">http-equiv</span><span class="o">=</span><span class="s">&#34;X-UA-Compatible&#34;</span> <span class="na">content</span><span class="o">=</span><span class="s">&#34;IE=edge&#34;</span> <span class="p">/&gt;</span>
    <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">name</span><span class="o">=</span><span class="s">&#34;viewport&#34;</span> <span class="na">content</span><span class="o">=</span><span class="s">&#34;width=device-width, initial-scale=1.0&#34;</span> <span class="p">/&gt;</span>
    <span class="p">&lt;</span><span class="nt">title</span><span class="p">&gt;</span>一个网页<span class="p">&lt;/</span><span class="nt">title</span><span class="p">&gt;</span>
  <span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">header</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">span</span><span class="p">&gt;</span>网站<span class="p">&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">header</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">nav</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">ul</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;</span>自我评价<span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;</span>实习经历<span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;</span>工作经历<span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
      <span class="p">&lt;/</span><span class="nt">ul</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">nav</span><span class="p">&gt;</span>
  <span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</code></pre></div><p>画出它的树形结构如下：<!-- raw HTML omitted -->DOM 的最小组成单位叫做节点（node）。文档的树形结构（DOM 树），就是由各种不同类型的节点组成。每个节点可以看作是文档树的一片叶子。<!-- raw HTML omitted -->一个文档的所有节点，按照所在的层级，可以抽象成一种树状结构。这种树状结构就是 DOM 树。它有一个顶层节点，下一层都是顶层节点的子节点，然后子节点又有自己的子节点，就这样层层衍生出一个金字塔结构，又像一棵树。<!-- raw HTML omitted -->​</p>
<p>浏览器原生提供 document 节点，代表整个文档。<!-- raw HTML omitted -->document // 整个文档树 <!-- raw HTML omitted -->​</p>
<p>文档的第一层有两个节点，第一个是文档类型节点（&lt;!doctype html&gt;），第二个是 HTML 网页的顶层容器标签<!-- raw HTML omitted -->。后者构成了树结构的根节点（root node），其他 HTML 标签节点都是它的下级节点。<!-- raw HTML omitted -->除了根节点，其他节点都有三种层级关系。</p>
<ul>
<li>父节点关系（parentNode）：直接的那个上级节点</li>
<li>子节点关系（childNodes）：直接的下级节点</li>
<li>同级节点关系（sibling）：拥有同一个父节点的节点</li>
</ul>
<p>DOM 提供操作接口，用来获取这三种关系的节点。比如，子节点接口包括 firstChild（第一个子节点）和 lastChild（最后一个子节点）等属性，同级节点接口包括 nextSibling（紧邻在后的那个同级节点）和 previousSibling（紧邻在前的那个同级节点）属性。<!-- raw HTML omitted -->​</p>
<p><strong>节点常见的 7 种类型，每种节点对应一种节点类型值（用 nodeType()判断）。</strong><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Node/nodeType" target="_blank" rel="noopener noreffer"><strong>详细查阅 MDN</strong></a></p>
<table>
<thead>
<tr>
<th><strong>节点对应类型值</strong></th>
<th><strong>类型</strong></th>
<th><strong>作用</strong></th>
<th><strong>例如</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>9</td>
<td>Document</td>
<td>整个文档树的顶层节点</td>
<td></td>
</tr>
<tr>
<td>10</td>
<td>DocumentType</td>
<td>doctype 标签</td>
<td>比如<!-- raw HTML omitted -->​</td>
</tr>
<tr>
<td>1</td>
<td>Element ，也叫标签 Tag</td>
<td>网页的各种 HTML 标签</td>
<td>比如<!-- raw HTML omitted -->、<!-- raw HTML omitted -->等</td>
</tr>
<tr>
<td>2</td>
<td>Attr</td>
<td>网页元素的属性</td>
<td>比如 class=&ldquo;info&rdquo;</td>
</tr>
<tr>
<td>3</td>
<td>Text</td>
<td>标签之间或标签包含的文本</td>
<td></td>
</tr>
<tr>
<td>8</td>
<td>Comment</td>
<td>注释</td>
<td></td>
</tr>
<tr>
<td>11</td>
<td>DocumentFragment</td>
<td>文档的片段</td>
<td></td>
</tr>
</tbody>
</table>
<p><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<h1 id="3dom-api">3.DOM API</h1>
<p><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<h2 id="31-获取标签也叫元素">3.1 获取标签（也叫元素）</h2>
<p>DOM 提供了许多 API，可以通过这些 API 获取元素</p>
<hr>
<ol>
<li>通过<code>id</code></li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="nb">window</span><span class="p">.</span><span class="nx">id名</span><span class="p">;</span> <span class="c1">//方法1
</span><span class="c1"></span><span class="nx">id名</span><span class="p">;</span> <span class="c1">//方法2
</span><span class="c1"></span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">&#34;id名&#34;</span><span class="p">);</span> <span class="c1">//方法3
</span></code></pre></div><p><strong>特：id 名为关键字时，就不能通过前 2 种方法获取元素</strong></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="nb">window</span><span class="p">.</span><span class="nx">parent</span><span class="p">;</span>
</code></pre></div><p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https://cdn.nlark.com/yuque/0/2021/png/22429169/1630848218113-58173abb-c548-4211-8f0c-0d47fa573fe1.png#clientId=u84604729-4ace-4&amp;from=paste&amp;height=82&amp;id=u6d04b568&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=91&amp;originWidth=857&amp;originalType=binary&amp;ratio=1&amp;size=11242&amp;status=done&amp;style=shadow&amp;taskId=u651c64b1-202a-4c68-8a2e-f4d8d8988a2&amp;width=768.5"
        data-srcset="https://cdn.nlark.com/yuque/0/2021/png/22429169/1630848218113-58173abb-c548-4211-8f0c-0d47fa573fe1.png#clientId=u84604729-4ace-4&amp;from=paste&amp;height=82&amp;id=u6d04b568&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=91&amp;originWidth=857&amp;originalType=binary&amp;ratio=1&amp;size=11242&amp;status=done&amp;style=shadow&amp;taskId=u651c64b1-202a-4c68-8a2e-f4d8d8988a2&amp;width=768.5, https://cdn.nlark.com/yuque/0/2021/png/22429169/1630848218113-58173abb-c548-4211-8f0c-0d47fa573fe1.png#clientId=u84604729-4ace-4&amp;from=paste&amp;height=82&amp;id=u6d04b568&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=91&amp;originWidth=857&amp;originalType=binary&amp;ratio=1&amp;size=11242&amp;status=done&amp;style=shadow&amp;taskId=u651c64b1-202a-4c68-8a2e-f4d8d8988a2&amp;width=768.5 1.5x, https://cdn.nlark.com/yuque/0/2021/png/22429169/1630848218113-58173abb-c548-4211-8f0c-0d47fa573fe1.png#clientId=u84604729-4ace-4&amp;from=paste&amp;height=82&amp;id=u6d04b568&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=91&amp;originWidth=857&amp;originalType=binary&amp;ratio=1&amp;size=11242&amp;status=done&amp;style=shadow&amp;taskId=u651c64b1-202a-4c68-8a2e-f4d8d8988a2&amp;width=768.5 2x"
        data-sizes="auto"
        alt="https://cdn.nlark.com/yuque/0/2021/png/22429169/1630848218113-58173abb-c548-4211-8f0c-0d47fa573fe1.png#clientId=u84604729-4ace-4&amp;from=paste&amp;height=82&amp;id=u6d04b568&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=91&amp;originWidth=857&amp;originalType=binary&amp;ratio=1&amp;size=11242&amp;status=done&amp;style=shadow&amp;taskId=u651c64b1-202a-4c68-8a2e-f4d8d8988a2&amp;width=768.5"
        title="image.png" /></p>
<hr>
<ol start="2">
<li>通过<code>标签名</code></li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="cm">/*
</span><span class="cm"> *  找到所有标签名为 div 的元素。
</span><span class="cm"> *  拿到的是一个数组（伪数组）
</span><span class="cm"> *  要获取到具体某一个 div，需要用下标（也可以遍历）
</span><span class="cm"> */</span>
<span class="nb">document</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="s2">&#34;div&#34;</span><span class="p">)[</span><span class="mi">0</span><span class="p">];</span> <span class="c1">//返回一组DOM节点
</span></code></pre></div><hr>
<ol start="3">
<li>通过<code>class</code></li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="cm">/*
</span><span class="cm"> *  找到所有 class 为 red 的元素。
</span><span class="cm"> *  拿到的是一个数组（伪数组）
</span><span class="cm"> *  要获取到具体某一个 red 元素，需要用下标（也可以遍历）
</span><span class="cm"> */</span>
<span class="nb">document</span><span class="p">.</span><span class="nx">getElementsByClassName</span><span class="p">(</span><span class="s2">&#34;red&#34;</span><span class="p">)[</span><span class="mi">0</span><span class="p">];</span> <span class="c1">//返回一组DOM节点
</span></code></pre></div><hr>
<ol start="4">
<li>最新的语法<code>selector</code>（👈 工作用最新的！除非需要兼容 IE😱）</li>
</ol>
<p>使用条件来获取节点，更加方便：<!-- raw HTML omitted -->注意：低版本的 IE&lt;8 不支持 querySelector 和 querySelectorAll。IE8 仅有限支持。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="c1">// 借用了css语法：#id   .class
</span><span class="c1"></span><span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="s2">&#34;#id名&#34;</span><span class="p">);</span>
<span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="s2">&#34;.class名&#34;</span><span class="p">);</span>

<span class="c1">//找到所有类名为red的元素，返回的是一个伪数组。要获取到具体某一个 red 元素，需要用下标
</span><span class="c1"></span><span class="nb">document</span><span class="p">.</span><span class="nx">querySelectorAll</span><span class="p">(</span><span class="s2">&#34;.red&#34;</span><span class="p">)[</span><span class="mi">0</span><span class="p">];</span>
</code></pre></div><p><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<h2 id="32-获取特定的标签">3.2 获取特定的标签</h2>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="nb">window</span><span class="p">;</span> <span class="c1">//获取窗口（窗口不是元素）
</span><span class="c1"></span><span class="nb">document</span><span class="p">.</span><span class="nx">documentElement</span><span class="p">;</span> <span class="c1">//获取 html 元素
</span><span class="c1"></span><span class="nb">document</span><span class="p">.</span><span class="nx">head</span><span class="p">;</span> <span class="c1">//获取 head 元素
</span><span class="c1"></span><span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">;</span> <span class="c1">//获取 body 元素
</span><span class="c1"></span><span class="nb">document</span><span class="p">.</span><span class="nx">all</span><span class="p">;</span> <span class="c1">//获取所有元素
</span></code></pre></div><p><strong>特：document.all 返回<code>false</code>（是第 6 个 falsy 值），只在 ie 浏览器运行。</strong><!-- raw HTML omitted --></p>
<p><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<h2 id="33-搞清楚获取到的元素是什么">3.3 搞清楚获取到的元素是什么</h2>
<p><code>document</code>获取到的元素是一个对象。而 JS 所有的对象都有一个原型。<!-- raw HTML omitted -->如果我们获取一个<code>div</code>标签后，那么它的原型是什么？<!-- raw HTML omitted -->打开一个谷歌首页，F12 试一下：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="kd">let</span> <span class="nx">div</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="s2">&#34;div&#34;</span><span class="p">)[</span><span class="mi">0</span><span class="p">];</span> <span class="c1">//获取谷歌首页的第一个div
</span><span class="c1"></span><span class="nx">console</span><span class="p">.</span><span class="nx">dir</span><span class="p">(</span><span class="nx">div</span><span class="p">);</span> <span class="c1">//打印出其结构
</span></code></pre></div><p>一层一层的点开<code>--proto--</code>去查看它的原型。<!-- raw HTML omitted -->div 原型链：<!-- raw HTML omitted --><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https://cdn.nlark.com/yuque/0/2021/png/22429169/1630850712221-182c8ede-9c28-46ac-9446-6ae9c7fc352d.png#clientId=u84604729-4ace-4&amp;from=paste&amp;id=u9e89f20d&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=1795&amp;originWidth=3750&amp;originalType=url&amp;ratio=1&amp;size=408320&amp;status=done&amp;style=shadow&amp;taskId=udc8fbef7-4c9d-4c3b-8a30-9dd9bfff5f4"
        data-srcset="https://cdn.nlark.com/yuque/0/2021/png/22429169/1630850712221-182c8ede-9c28-46ac-9446-6ae9c7fc352d.png#clientId=u84604729-4ace-4&amp;from=paste&amp;id=u9e89f20d&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=1795&amp;originWidth=3750&amp;originalType=url&amp;ratio=1&amp;size=408320&amp;status=done&amp;style=shadow&amp;taskId=udc8fbef7-4c9d-4c3b-8a30-9dd9bfff5f4, https://cdn.nlark.com/yuque/0/2021/png/22429169/1630850712221-182c8ede-9c28-46ac-9446-6ae9c7fc352d.png#clientId=u84604729-4ace-4&amp;from=paste&amp;id=u9e89f20d&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=1795&amp;originWidth=3750&amp;originalType=url&amp;ratio=1&amp;size=408320&amp;status=done&amp;style=shadow&amp;taskId=udc8fbef7-4c9d-4c3b-8a30-9dd9bfff5f4 1.5x, https://cdn.nlark.com/yuque/0/2021/png/22429169/1630850712221-182c8ede-9c28-46ac-9446-6ae9c7fc352d.png#clientId=u84604729-4ace-4&amp;from=paste&amp;id=u9e89f20d&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=1795&amp;originWidth=3750&amp;originalType=url&amp;ratio=1&amp;size=408320&amp;status=done&amp;style=shadow&amp;taskId=udc8fbef7-4c9d-4c3b-8a30-9dd9bfff5f4 2x"
        data-sizes="auto"
        alt="https://cdn.nlark.com/yuque/0/2021/png/22429169/1630850712221-182c8ede-9c28-46ac-9446-6ae9c7fc352d.png#clientId=u84604729-4ace-4&amp;from=paste&amp;id=u9e89f20d&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=1795&amp;originWidth=3750&amp;originalType=url&amp;ratio=1&amp;size=408320&amp;status=done&amp;style=shadow&amp;taskId=udc8fbef7-4c9d-4c3b-8a30-9dd9bfff5f4"
        title="image.png" /><!-- raw HTML omitted -->可以看到这个<code>div</code>的原型链上有 6 个原型。<!-- raw HTML omitted -->其中，所有 DOM 节点对象的原型链上都有一个共同原型<code>Node.prototype</code>，因为都继承了<code>Node</code>（浏览器提供的一个原生的节点对象）
<!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<h3 id="heading"></h3>
<p><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<h1 id="4-操作-dom增删改查">4 操作 DOM（增删改查）</h1>
<p>程序员最终宿命：增删改查。<!-- raw HTML omitted -->​</p>
<p>由于 HTML 文档被浏览器解析后就是一棵 DOM 树，要改变 HTML 的结构，就需要通过 JavaScript 来操作 DOM。<!-- raw HTML omitted -->始终记住 DOM 是一个树形结构。操作一个 DOM 节点实际上就是这么几个操作：</p>
<ul>
<li>更新：更新该 DOM 节点的内容，相当于更新了该 DOM 节点表示的 HTML 的内容；</li>
<li>遍历：遍历该 DOM 节点下的子节点，以便进行进一步操作；</li>
<li>添加：在该 DOM 节点下新增一个子节点，相当于动态增加了一个 HTML 节点；</li>
<li>删除：将该节点从 HTML 中删除，相当于删掉了该 DOM 节点的内容以及它包含的所有子节点。</li>
</ul>
<p><!-- raw HTML omitted -->下面要用到的 API 名字太长，没办法，写个博客增强记忆，也便于日后查阅 😸
<!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<h2 id="41-增">4.1 增</h2>
<p><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<h3 id="1innerhtml">1.innerHTML</h3>
<p>① 如果 DOM 节点为空：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;test&#34;</span><span class="p">&gt;&lt;</span><span class="nt">div</span><span class="p">&gt;</span>//一个空的div<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</code></pre></div><p>直接使用<code>innerHTML</code>就可以修改 DOM 节点的内容，相当于“插入”了新的 DOM 节点。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="kd">let</span> <span class="nx">div</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">&#34;test&#34;</span><span class="p">);</span>
<span class="nx">div</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="s2">&#34;ABC&#34;</span><span class="p">;</span> <span class="c1">// &lt;div id=&#34;test&#34;&gt;ABC&lt;/div&gt;
</span></code></pre></div><hr>
<p><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<h3 id="2appendchild">2.appendChild</h3>
<p>② 如果 DOM 节点不为空<!-- raw HTML omitted -->那就不能这么做，因为 innerHTML 会直接替换掉原来的所有子节点。<!-- raw HTML omitted -->​</p>
<p>**方法 1.**使用 appendChild()，把一个子节点添加到父节点的最后一个子节点。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="nx">div1</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">div</span><span class="p">);</span> <span class="c1">//方法1：先获取一个节点div，再插入到一个div1中
</span><span class="c1"></span><span class="cm">/*
</span><span class="cm"> *因为我们插入的js节点已经存在于当前的文档树
</span><span class="cm"> *因此这个节点首先会从原先的位置删除，再插入到新的位置。
</span><span class="cm"> */</span>
</code></pre></div><hr>
<p>除了插入 JS 中已存在的节点。更多的场景是从零创建一个新的节点，然后插入到指定位置：<!-- raw HTML omitted --><strong>​</strong><!-- raw HTML omitted -->
<!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<h3 id="3创建一个新节点并插入指定位置">3.创建一个新节点并插入指定位置</h3>
<ol>
<li>创建一个标签节点</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="kd">let</span> <span class="nx">div2</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">&#34;div&#34;</span><span class="p">);</span> <span class="c1">//&lt;div&gt;&lt;/div&gt;
</span><span class="c1"></span><span class="kd">let</span> <span class="nx">style</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">&#34;style&#34;</span><span class="p">);</span> <span class="c1">//&lt;style&gt;&lt;/style&gt;
</span></code></pre></div><ol start="2">
<li>创建一个文本节点</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="kd">let</span> <span class="nx">text1</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createTextNode</span><span class="p">(</span><span class="s1">&#39;你好&#39;</span><span class="err">）</span>
<span class="c1">//这么麻烦，为什么不写成text1=&#39;你好&#39;
</span><span class="c1">//因为节点是一个对象
</span></code></pre></div><ol start="3">
<li>插入到指定位置（如 div1 节点）</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="nx">div1</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">div2</span><span class="p">);</span> <span class="c1">//为div1增加新div
</span><span class="c1"></span><span class="nx">div1</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">style</span><span class="p">);</span> <span class="c1">//为div1增加样式
</span><span class="c1"></span><span class="nx">div1</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">text1</span><span class="p">);</span> <span class="c1">//为div1增加文本
</span></code></pre></div><p>​</p>
<p><strong>特：</strong></p>
<ol>
<li><strong>appendchild()只接收节点参数。</strong></li>
<li><strong>DOM 创建的所有节点默认处于 JS 线程中，只有在插入到原 DOM 树中才会生效（即显示在页面上）</strong></li>
<li><strong>appendChild()默认将 元素插入到目标容器的最后。</strong></li>
<li><strong>创建的新节点，只能插入一次。</strong></li>
</ol>
<p><strong>（插入节点到 DOM 树是一个动态的过程，每次插入到一个新的位置时会执行 2 步：</strong></p>
<ul>
<li><strong>先删除原来位置的节点</strong></li>
<li><strong>再把该节点插入到新位置）</strong></li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="kd">let</span> <span class="nx">div</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">&#34;div&#34;</span><span class="p">);</span>
<span class="nx">test1</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">div</span><span class="p">);</span>
<span class="nx">test2</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">div</span><span class="p">);</span> <span class="c1">//test2最终显示在div里
</span></code></pre></div><hr>
<p><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<h3 id="4-insertbefore">4. insertBefore</h3>
<p>待写
<!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<h2 id="42-删">4.2 删</h2>
<p>删除比较简单。
<!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<h3 id="1旧方法">1.旧方法</h3>
<p>拿到待删节点的爸爸，调用其<code>removeChild()</code>把自己删掉：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="nx">parentNode</span><span class="p">.</span><span class="nx">removeChild</span><span class="p">(</span><span class="nx">childNode</span><span class="p">);</span>
</code></pre></div><p><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<h3 id="2新方法">2.新方法</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="nx">childNode</span><span class="p">.</span><span class="nx">remove</span><span class="p">();</span> <span class="c1">// IE不支持（兼容性有问题）
</span></code></pre></div><p><strong>特：删除后的节点虽然不在文档树中了，但其实它还在内存中，可以随时再次被添加到别的位置。</strong>
<!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<h3 id="3彻底删除节点">3.彻底删除节点</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="c1">// 彻底干掉元素，先把元素移出页面
</span><span class="c1"></span><span class="nx">div1</span><span class="p">.</span><span class="nx">remove</span><span class="p">();</span>
<span class="nx">div2</span><span class="p">.</span><span class="nx">remove</span><span class="p">();</span>
<span class="c1">// 这时 div1/div2 都在内存中
</span><span class="c1"></span><span class="nx">div1</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
<span class="nx">div2</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
<span class="c1">// 等于null，div1，div2 会被 垃圾回收 掉
</span></code></pre></div><p><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<h3 id="4通过遍历父节点的子节点删除时">4.通过遍历父节点的子节点删除时</h3>
<p>当遍历一个父节点的子节点并进行删除操作时：</p>
<ul>
<li>要注意<code>children</code>属性是一个只读属性，并且它在子节点变化时会实时更新。</li>
<li>当一个子节点删除后，子节点数量就会减少。原索引对应的节点也会变化。</li>
<li>因此，删除多个节点时，要注意<code>children</code>属性时刻都在变化。
<!-- raw HTML omitted --><!-- raw HTML omitted --></li>
</ul>
<h2 id="43-改">4.3 改</h2>
<p><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<h3 id="1改文本">1.改文本</h3>
<p>现在浏览器几乎都支持这 2 种写法。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="nx">div</span><span class="p">.</span><span class="nx">innerText</span> <span class="o">=</span> <span class="s2">&#34;xxx&#34;</span><span class="p">;</span> <span class="c1">// 早期 IE 发明的
</span><span class="c1"></span><span class="nx">div</span><span class="p">.</span><span class="nx">textContent</span> <span class="o">=</span> <span class="s2">&#34;xxx&#34;</span><span class="p">;</span> <span class="c1">// 出台「标准」中规定的
</span></code></pre></div><p><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<h3 id="2改类名-class">2.改类名 class</h3>
<p><del>JS 不支持保留字（JS 关键字）作为 key。</del></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="nx">div</span><span class="p">.</span><span class="nx">className</span> <span class="o">=</span> <span class="s2">&#34;red blue&#34;</span><span class="p">;</span> <span class="c1">// 会把之前的类名直接覆盖掉
</span><span class="c1"></span><span class="nx">div</span><span class="p">.</span><span class="nx">classList</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="s2">&#34;red&#34;</span><span class="p">);</span> <span class="c1">// 通过add给div追加类名
</span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="nx">div</span><span class="p">.</span><span class="nx">classList</span><span class="p">;</span> <span class="c1">//返回div的实时的一组类名集合
</span><span class="c1">//相比将className 作为以空格分隔的字符串来使用，
</span><span class="c1">//classList 是一种更方便的访问元素的类列表的方法。
</span></code></pre></div><p><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<h3 id="3改样式-style">3.改样式 style</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="nx">div</span><span class="p">.</span><span class="nx">style</span> <span class="o">=</span> <span class="s2">&#34;width:100px;color:blue;&#34;</span><span class="p">;</span> <span class="c1">// 样式全部重写（不推荐）
</span><span class="c1"></span><span class="nx">div</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">width</span> <span class="o">=</span> <span class="s2">&#34;200px&#34;</span><span class="p">;</span> <span class="c1">// 改指定样式（推荐）
</span><span class="c1"></span><span class="nx">div</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">backgroundColor</span> <span class="o">=</span> <span class="s2">&#34;white&#34;</span><span class="p">;</span> <span class="c1">// 注意「驼峰命名」的大小写
</span></code></pre></div><p><strong>特：JS 不支持有</strong><code>**-**</code><strong>的 key 值。</strong></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="nx">div</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">background</span> <span class="o">-</span> <span class="nx">color</span><span class="p">;</span> <span class="c1">// -会被理解成：减号
</span><span class="c1"></span><span class="nx">div</span><span class="p">.</span><span class="nx">style</span><span class="p">[</span><span class="s2">&#34;background-color&#34;</span><span class="p">];</span> <span class="c1">// 可以用[]中括号的形式
</span><span class="c1"></span><span class="nx">div</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">backgroundColor</span><span class="p">;</span> <span class="c1">// 正确
</span></code></pre></div><p><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<h3 id="4读标准属性">4.读标准属性</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="nx">div</span><span class="p">.</span><span class="nx">classList</span><span class="p">;</span>
<span class="nx">a</span><span class="p">.</span><span class="nx">href</span><span class="p">;</span>

<span class="nx">div</span><span class="p">.</span><span class="nx">getAttribute</span><span class="p">(</span><span class="s2">&#34;class&#34;</span><span class="p">);</span>
<span class="nx">a</span><span class="p">.</span><span class="nx">getAttribute</span><span class="p">(</span><span class="s2">&#34;href&#34;</span><span class="p">);</span>
</code></pre></div><p><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<h3 id="5改事件处理函数">5.改事件处理函数</h3>
<p><strong>①onclick</strong></p>
<ul>
<li>每个元素都有一个<code>onclick``属性，且默认值为</code>null`（即鼠标点击时，不会有任何操作）</li>
<li>但可以<code>Elements.onclick=fn()</code>让其变成<code>fn()</code>这个函数。（绑定事件函数）</li>
<li>点击<code>Elements</code>，就会调用<code>fn()</code></li>
</ul>
<p><strong>回忆如何调用函数：</strong></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;test&#34;</span><span class="p">&gt;</span>test<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="nx">test</span><span class="p">.</span><span class="nx">onclick</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">x</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="k">this</span><span class="p">);</span> <span class="c1">// this: test
</span><span class="c1"></span>  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">x</span><span class="p">);</span> <span class="c1">//    x: event
</span><span class="c1"></span><span class="p">};</span>
<span class="c1">//test.onclick.call(test,event)   event包含了点击事件的所有信息，如坐标
</span></code></pre></div><p><strong>②addEventListener</strong><!-- raw HTML omitted --><strong>待补充</strong>
<!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<h3 id="6改爸爸">6.改爸爸</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="nx">newParent</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">div</span><span class="p">);</span> <span class="c1">// 直接把div添加到新的父节点内，以前父节点中的div就自动消失了
</span></code></pre></div><p><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<h2 id="44-查">4.4 查</h2>
<p><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<h3 id="1查爸爸">1.查爸爸</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="nx">node</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">;</span>
<span class="c1">// 或者
</span><span class="c1"></span><span class="nx">node</span><span class="p">.</span><span class="nx">parentElement</span><span class="p">;</span>
</code></pre></div><p><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<h3 id="2查爷爷">2.查爷爷</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="nx">node</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">;</span>
</code></pre></div><p><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<h3 id="3查子代">3.查子代</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="nx">node</span><span class="p">.</span><span class="nx">childNodes</span><span class="p">;</span> <span class="c1">// 包含文本节点，返回对象包含：文本里的回车和空格
</span><span class="c1">// 或者
</span><span class="c1"></span><span class="nx">node</span><span class="p">.</span><span class="nx">children</span><span class="p">;</span> <span class="c1">// 不包含文本节点（推荐使用）
</span></code></pre></div><p>元素节点会怎么变化？
<!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<h3 id="4查兄弟姐妹">4.查兄弟姐妹</h3>
<ul>
<li>JS 没有提供 API 查询兄弟姐妹。</li>
<li>只能通过先获取到父元素，再获取父元素的全部子节点的方式：</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="nx">node</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">.</span><span class="nx">childNodes</span><span class="p">;</span> <span class="c1">// parentNode 可以和 parentElement 互换
</span><span class="c1"></span><span class="nx">node</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">.</span><span class="nx">children</span><span class="p">;</span> <span class="c1">// 同上
</span></code></pre></div><ul>
<li>最后，子节点还要排除本身：</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="kd">let</span> <span class="nx">div2</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="s2">&#34;div&#34;</span><span class="p">)[</span><span class="mi">1</span><span class="p">];</span>
<span class="c1">// div2 有多少个兄弟姐妹
</span><span class="c1"></span><span class="kd">let</span> <span class="nx">siblings</span> <span class="o">=</span> <span class="p">[];</span>
<span class="kd">let</span> <span class="nx">c</span> <span class="o">=</span> <span class="nx">div2</span><span class="p">.</span><span class="nx">parentElement</span><span class="p">.</span><span class="nx">children</span><span class="p">;</span> <span class="c1">// 先获取到父亲的所有子代，再遍历从中排除自己
</span><span class="c1"></span><span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&gt;</span> <span class="nx">c</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">c</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="o">!==</span> <span class="nx">div2</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">silblins</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">c</span><span class="p">[</span><span class="nx">i</span><span class="p">]);</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div><p><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<h3 id="5查第一个子代">5.查第一个子代</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="nx">node</span><span class="p">.</span><span class="nx">firstChild</span><span class="p">;</span> <span class="c1">// node.parentNode.children[0]
</span></code></pre></div><p><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<h3 id="6查最后一个子代">6.查最后一个子代</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="nx">node</span><span class="p">.</span><span class="nx">lastChild</span><span class="p">;</span>
</code></pre></div><p><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<h3 id="7查上一个兄弟">7.查上一个兄弟</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="nx">node</span><span class="p">.</span><span class="nx">previousSibling</span><span class="p">;</span> <span class="c1">// 如果上一个节点是文本节点(空格、回车...)，就会获取到文本节点
</span><span class="c1"></span><span class="nx">node</span><span class="p">.</span><span class="nx">proviousElementSibling</span><span class="p">;</span> <span class="c1">// 会避开文本节点，只找元素节点
</span></code></pre></div><p><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<h3 id="8查下一个兄弟">8.查下一个兄弟</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="nx">node</span><span class="p">.</span><span class="nx">nextSibling</span><span class="p">;</span> <span class="c1">// 下一个兄弟节点 （包含文本节点）
</span><span class="c1"></span><span class="nx">node</span><span class="p">.</span><span class="nx">nextElementSibling</span><span class="p">;</span> <span class="c1">// 下一个元素兄弟节点 （只包含元素节点）
</span></code></pre></div><p><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<h3 id="9遍历一个-div-的全部元素">9.遍历一个 div 的全部元素</h3>
<p>待写
<!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<h1 id="5dom-操作是跨线程的待写">5.DOM 操作是跨线程的（待写）</h1>
</div><div class="post-footer" id="post-footer">
    <div class="post-info">
        <div class="post-info-line">
            <div class="post-info-mod">
                <span>更新于 2022-02-14</span>
            </div>
            <div class="post-info-license"></div>
        </div>
        <div class="post-info-line">
            <div class="post-info-md"></div>
            <div class="post-info-share">
                <span></span>
            </div>
        </div>
    </div>

    <div class="post-info-more">
        <section class="post-tags"><i class="fas fa-tags fa-fw"></i>&nbsp;<a href="/tags/dom/">DOM</a></section>
        <section>
            <span><a href="javascript:void(0);" onclick="window.history.back();">返回</a></span>&nbsp;|&nbsp;<span><a href="/">主页</a></span>
        </section>
    </div>

    <div class="post-nav"><a href="/posts/es6%E4%BD%BF%E7%94%A8%E6%80%BB%E7%BB%93/" class="prev" rel="prev" title="ES6使用总结"><i class="fas fa-angle-left fa-fw"></i>ES6使用总结</a>
            <a href="/posts/dom%E4%BA%8B%E4%BB%B6%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%A7%94%E6%89%98-/" class="next" rel="next" title="DOM事件与事件委托">DOM事件与事件委托<i class="fas fa-angle-right fa-fw"></i></a></div>
</div>
</article></div>
            </main><footer class="footer">
        <div class="footer-container"><div class="footer-line"><i class="far fa-copyright fa-fw"></i><span itemprop="copyrightYear">2021 - 2022</span><span class="author" itemprop="copyrightHolder">&nbsp;<a href="/" target="_blank">可喜</a></span></div>
        </div>
    </footer></div>

        <div id="fixed-buttons"><a href="#" id="back-to-top" class="fixed-button" title="回到顶部">
                <i class="fas fa-arrow-up fa-fw"></i>
            </a><a href="#" id="view-comments" class="fixed-button" title="查看评论">
                <i class="fas fa-comment fa-fw"></i>
            </a>
        </div><script type="text/javascript" src="/lib/smooth-scroll/smooth-scroll.min.js"></script><script type="text/javascript" src="/lib/lazysizes/lazysizes.min.js"></script><script type="text/javascript" src="/lib/clipboard/clipboard.min.js"></script><script type="text/javascript">window.config={"code":{"copyTitle":"复制到剪贴板","maxShownLines":100},"comment":{}};</script><script type="text/javascript" src="/js/theme.min.js"></script></body>
</html>
