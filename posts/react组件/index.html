<!DOCTYPE html>
<html lang="zh-CN">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="robots" content="noodp" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
        <title>React ç»„ä»¶ - å¯å–œã®life</title><meta name="Description" content=""><meta property="og:title" content="React ç»„ä»¶" />
<meta property="og:description" content="ç»„ä»¶ï¼ˆæ¨èå‡½æ•°ç»„ä»¶ï¼‰ React å…ƒç´ å°±æ˜¯ç”±React.createElement()API åˆ›å»ºçš„ä¸€ä¸ªè™šæ‹ŸDOMå¯¹è±¡ åœ¨ React ä¸­ï¼Œä¸€ä¸ªè¿”å› React å…ƒç´ çš„å‡½æ•°å¯ä»¥å½“ä½œ" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://luuu4129955.github.io/posts/react%E7%BB%84%E4%BB%B6/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-02-14T15:31:25+08:00" />
<meta property="article:modified_time" content="2022-02-14T15:31:25+08:00" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="React ç»„ä»¶"/>
<meta name="twitter:description" content="ç»„ä»¶ï¼ˆæ¨èå‡½æ•°ç»„ä»¶ï¼‰ React å…ƒç´ å°±æ˜¯ç”±React.createElement()API åˆ›å»ºçš„ä¸€ä¸ªè™šæ‹ŸDOMå¯¹è±¡ åœ¨ React ä¸­ï¼Œä¸€ä¸ªè¿”å› React å…ƒç´ çš„å‡½æ•°å¯ä»¥å½“ä½œ"/>
<meta name="application-name" content="LoveIt">
<meta name="apple-mobile-web-app-title" content="LoveIt"><meta name="theme-color" content="#ffffff"><meta name="msapplication-TileColor" content="#da532c"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"><link rel="manifest" href="/site.webmanifest"><link rel="canonical" href="https://luuu4129955.github.io/posts/react%E7%BB%84%E4%BB%B6/" /><link rel="prev" href="https://luuu4129955.github.io/posts/vue3%E9%80%A0%E8%BD%AE%E5%AD%90/" /><link rel="stylesheet" href="/lib/normalize/normalize.min.css"><link rel="stylesheet" href="/css/style.min.css"><link rel="stylesheet" href="/lib/fontawesome-free/all.min.css"><link rel="stylesheet" href="/lib/animate/animate.min.css"><script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "headline": "React ç»„ä»¶",
        "inLanguage": "zh-CN",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https:\/\/luuu4129955.github.io\/posts\/react%E7%BB%84%E4%BB%B6\/"
        },"genre": "posts","wordcount":  1397 ,
        "url": "https:\/\/luuu4129955.github.io\/posts\/react%E7%BB%84%E4%BB%B6\/","datePublished": "2022-02-14T15:31:25+08:00","dateModified": "2022-02-14T15:31:25+08:00","publisher": {
            "@type": "Organization",
            "name": "å¯å–œ"},"author": {
                "@type": "Person",
                "name": "å¯å–œ"
            },"description": ""
    }
    </script></head>
    <body header-desktop="fixed" header-mobile="auto"><script type="text/javascript">(window.localStorage && localStorage.getItem('theme') ? localStorage.getItem('theme') === 'dark' : ('' === 'auto' ? window.matchMedia('(prefers-color-scheme: dark)').matches : '' === 'dark')) && document.body.setAttribute('theme', 'dark');</script>

        <div id="mask"></div><div class="wrapper"><header class="desktop" id="header-desktop">
    <div class="header-wrapper">
        <div class="header-title">
            <a href="/" title="å¯å–œã®life">ğŸ˜‰å¯å–œã®life</a>
        </div>
        <div class="menu">
            <div class="menu-inner"><a class="menu-item" href="/posts/"> æ–‡ç«  </a><a class="menu-item" href="/tags/"> æ ‡ç­¾ </a><a class="menu-item" href="/categories/"> åˆ†ç±» </a><span class="menu-item delimiter"></span><a href="javascript:void(0);" class="menu-item theme-switch" title="åˆ‡æ¢ä¸»é¢˜">
                    <i class="fas fa-adjust fa-fw"></i>
                </a>
            </div>
        </div>
    </div>
</header><header class="mobile" id="header-mobile">
    <div class="header-container">
        <div class="header-wrapper">
            <div class="header-title">
                <a href="/" title="å¯å–œã®life">ğŸ˜‰å¯å–œã®life</a>
            </div>
            <div class="menu-toggle" id="menu-toggle-mobile">
                <span></span><span></span><span></span>
            </div>
        </div>
        <div class="menu" id="menu-mobile"><a class="menu-item" href="/posts/" title="">æ–‡ç« </a><a class="menu-item" href="/tags/" title="">æ ‡ç­¾</a><a class="menu-item" href="/categories/" title="">åˆ†ç±»</a><a href="javascript:void(0);" class="menu-item theme-switch" title="åˆ‡æ¢ä¸»é¢˜">
                <i class="fas fa-adjust fa-fw"></i>
            </a></div>
    </div>
</header>
<div class="search-dropdown desktop">
    <div id="search-dropdown-desktop"></div>
</div>
<div class="search-dropdown mobile">
    <div id="search-dropdown-mobile"></div>
</div>
<main class="main">
                <div class="container"><div class="toc" id="toc-auto">
            <h2 class="toc-title">ç›®å½•</h2>
            <div class="toc-content" id="toc-content-auto"></div>
        </div><article class="page single"><h1 class="single-title animated flipInX">React ç»„ä»¶</h1><div class="post-meta">
            <div class="post-meta-line"><span class="post-author"><a href="/" title="Author" rel=" author" class="author"><i class="fas fa-user-circle fa-fw"></i>å¯å–œ</a></span></div>
            <div class="post-meta-line"><i class="far fa-calendar-alt fa-fw"></i>&nbsp;<time datetime="2022-02-14">2022-02-14</time>&nbsp;<i class="fas fa-pencil-alt fa-fw"></i>&nbsp;çº¦ 1397 å­—&nbsp;
                <i class="far fa-clock fa-fw"></i>&nbsp;é¢„è®¡é˜…è¯» 3 åˆ†é’Ÿ&nbsp;</div>
        </div><div class="details toc" id="toc-static"  kept="">
                <div class="details-summary toc-title">
                    <span>ç›®å½•</span>
                    <span><i class="details-icon fas fa-angle-right"></i></span>
                </div>
                <div class="details-content toc-content" id="toc-content-static"><nav id="TableOfContents">
  <ul>
    <li><a href="#ç±»ç»„ä»¶">ç±»ç»„ä»¶</a></li>
    <li><a href="#å‡½æ•°ç»„ä»¶">å‡½æ•°ç»„ä»¶</a></li>
  </ul>

  <ul>
    <li><a href="#ç±»ç»„ä»¶-1">ç±»ç»„ä»¶</a>
      <ul>
        <li><a href="#åˆå§‹åŒ–-state">åˆå§‹åŒ– state</a></li>
        <li><a href="#è¯»-state">è¯» state</a></li>
        <li><a href="#å†™-state">å†™ state</a></li>
      </ul>
    </li>
    <li><a href="#å‡½æ•°ç»„ä»¶-1">å‡½æ•°ç»„ä»¶</a>
      <ul>
        <li><a href="#åˆå§‹åŒ–-state-1">åˆå§‹åŒ– state</a></li>
        <li><a href="#è¯»-state-1">è¯» state</a></li>
        <li><a href="#å†™-state-1">å†™ state</a></li>
      </ul>
    </li>
  </ul>

  <ul>
    <li><a href="#ç±»ç»„ä»¶-2">ç±»ç»„ä»¶</a></li>
    <li><a href="#å‡½æ•°ç»„ä»¶-2">å‡½æ•°ç»„ä»¶</a></li>
    <li><a href="#ç»“è®º">ç»“è®ºï¼š</a></li>
  </ul>

  <ul>
    <li><a href="#ç±»ç»„ä»¶-3">ç±»ç»„ä»¶</a></li>
  </ul>
</nav></div>
            </div><div class="content" id="content"><p><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<h1 id="ç»„ä»¶æ¨èå‡½æ•°ç»„ä»¶">ç»„ä»¶ï¼ˆæ¨èå‡½æ•°ç»„ä»¶ï¼‰</h1>
<ul>
<li>React å…ƒç´ å°±æ˜¯ç”±<code>React.createElement()</code>API åˆ›å»ºçš„ä¸€ä¸ª<code>è™šæ‹ŸDOMå¯¹è±¡</code></li>
<li>åœ¨ React ä¸­ï¼Œä¸€ä¸ªè¿”å› React å…ƒç´ çš„å‡½æ•°å¯ä»¥å½“ä½œä¸€ä¸ªç»„ä»¶
<!-- raw HTML omitted --><!-- raw HTML omitted --></li>
</ul>
<h1 id="reactcreateelement-é€»è¾‘">React.createElement é€»è¾‘</h1>
<ol>
<li>ä¼ çš„å­—ç¬¦ä¸²&rsquo;div'ï¼šå°±æ–°å»ºä¸€ä¸ª div æ ‡ç­¾</li>
<li>ä¼ çš„å‡½æ•°ï¼šå°±è°ƒç”¨å‡½æ•°ï¼Œå¹¶è·å–å…¶è¿”å›å€¼</li>
<li>ä¼ çš„ç±»ï¼šå°±åœ¨ç±»çš„å‰é¢åŠ  <code>new</code>å…³é”®å­—ï¼ˆä¼šæ‰§è¡Œ<code>constructor</code>ï¼‰ã€‚è·å–ä¸€ä¸ªç»„ä»¶å¯¹è±¡ï¼Œç„¶åè°ƒç”¨å¯¹è±¡çš„<code>render</code>æ–¹æ³•ï¼Œè·å–å…¶è¿”å›å€¼ã€‚
<!-- raw HTML omitted --><!-- raw HTML omitted --></li>
</ol>
<h1 id="1å‡½æ•°ç»„ä»¶">1.å‡½æ•°ç»„ä»¶</h1>
<p>æ€ä¹ˆå†™ä¸€ä¸ªå‡½æ•°ç»„ä»¶ï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-jsx" data-lang="jsx"><span class="kd">function</span> <span class="nx">Welcome</span><span class="p">(</span><span class="nx">props</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span><span class="nx">Hello</span><span class="p">,{</span><span class="nx">props</span><span class="p">.</span><span class="nx">name</span><span class="p">}&lt;/</span><span class="nt">h1</span><span class="p">&gt;;</span>
<span class="p">}</span>
</code></pre></div><p>ä½¿ç”¨è¿™ä¸ªç»„ä»¶ï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-jsx" data-lang="jsx"><span class="p">&lt;</span><span class="nt">Welcome</span> <span class="na">name</span><span class="o">=</span><span class="s">&#34;crystal&#34;</span> <span class="p">/&gt;</span>
</code></pre></div><p><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<h1 id="2ç±»ç»„ä»¶">2.ç±»ç»„ä»¶</h1>
<p>æ€ä¹ˆå†™ä¸€ä¸ªç±»ç»„ä»¶ï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-jsx" data-lang="jsx"><span class="kr">class</span> <span class="nx">Welcome</span> <span class="kr">extends</span> <span class="nx">React</span><span class="p">.</span><span class="nx">Component</span> <span class="p">{</span>
  <span class="nx">render</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span><span class="nx">Hello</span><span class="p">,{</span><span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">name</span><span class="p">}&lt;/</span><span class="nt">h1</span><span class="p">&gt;;</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div><p>ä½¿ç”¨è¿™ä¸ªç»„ä»¶ï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-jsx" data-lang="jsx"><span class="p">&lt;</span><span class="nt">Welcome</span> <span class="na">name</span><span class="o">=</span><span class="s">&#34;crystal&#34;</span> <span class="p">/&gt;</span>
</code></pre></div><p>æ€»ç»“ï¼š<!-- raw HTML omitted -->ä¼šè¢«<code>babel</code>ç¿»è¯‘ä¸º<code>React.createElement(Welcome)</code><!-- raw HTML omitted -->â€‹</p>
<p>ä»£ç ç¤ºä¾‹ï¼š<a href="https://codesandbox.io/s/strange-shape-nh3kr?file=/src/index.js" target="_blank" rel="noopener noreffer">ç±»ç»„ä»¶ï¼ˆSonï¼‰å’Œ å‡½æ•°ç»„ä»¶ï¼ˆGrandsonï¼‰</a><!-- raw HTML omitted -->â€‹<!-- raw HTML omitted -->
<!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<h1 id="æ·»åŠ -propså¤–éƒ¨æ•°æ®">æ·»åŠ  propsï¼ˆå¤–éƒ¨æ•°æ®ï¼‰</h1>
<p>å…³æ³¨å¦‚ä½•è¯»å–è¿™ä¸ª propsï¼Œprops ä¸èƒ½å†™
<!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<h2 id="ç±»ç»„ä»¶">ç±»ç»„ä»¶</h2>
<p>çˆ¸çˆ¸ç»™å„¿å­ä¼ å€¼=å„¿å­è¯»çˆ¸çˆ¸çš„å€¼<!-- raw HTML omitted -->ç›´æ¥è¯»å–å±æ€§ï¼š<code>this.props.xxx</code>
<!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<h2 id="å‡½æ•°ç»„ä»¶">å‡½æ•°ç»„ä»¶</h2>
<p>å„¿å­ç»™å­™å­ä¼ å€¼=å­™å­è¯»å„¿å­çš„å€¼<!-- raw HTML omitted -->ç›´æ¥è¯»å–å‚æ•°ï¼š<code>props.xxx</code><!-- raw HTML omitted -->â€‹<!-- raw HTML omitted -->
<!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<h1 id="æ·»åŠ -stateå†…éƒ¨æ•°æ®">æ·»åŠ  stateï¼ˆå†…éƒ¨æ•°æ®ï¼‰</h1>
<p>å…³æ³¨<code>state</code>çš„åˆå§‹åŒ–ï¼Œè¯»ï¼Œå†™
<!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<h2 id="ç±»ç»„ä»¶-1">ç±»ç»„ä»¶</h2>
<p><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<h3 id="åˆå§‹åŒ–-state">åˆå§‹åŒ– state</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-jsx" data-lang="jsx"><span class="nx">constructor</span><span class="p">()</span> <span class="p">{</span>
    <span class="kr">super</span><span class="p">();</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">state</span> <span class="o">=</span> <span class="p">{</span>
      <span class="nx">n</span><span class="o">:</span> <span class="mi">0</span>
    <span class="p">};</span>
  <span class="p">}</span>
</code></pre></div><p><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<h3 id="è¯»-state">è¯» state</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-jsx" data-lang="jsx"><span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">n</span><span class="p">;</span>
</code></pre></div><p><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<h3 id="å†™-state">å†™ state</h3>
<p><code>this.state</code>æ˜¯å¼‚æ­¥æ‰§è¡Œçš„ï¼Œä¸ä¼šç«‹å³æ”¹å˜<code>n</code>çš„å€¼</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-jsx" data-lang="jsx"><span class="c1">//this.state
</span><span class="c1"></span>
<span class="c1">//1.å†…éƒ¨ç›´æ¥è¿”å›ä¸€ä¸ªæ–°å¯¹è±¡
</span><span class="c1"></span><span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">({</span> <span class="nx">n</span><span class="o">:</span> <span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">n</span> <span class="o">+</span> <span class="mi">1</span> <span class="p">});</span>

<span class="c1">//æ¨èå†™æ³•2.å†…éƒ¨å†™ä¸€ä¸ªå‡½æ•°ï¼Œæ¥å—ä¸€ä¸ªæ—§çš„stateå‚æ•°
</span><span class="c1"></span><span class="k">this</span><span class="p">.</span><span class="nx">setState</span><span class="p">((</span><span class="nx">state</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">n</span> <span class="o">=</span> <span class="nx">state</span><span class="p">.</span><span class="nx">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
  <span class="k">return</span> <span class="p">{</span> <span class="nx">n</span> <span class="p">};</span>
<span class="p">});</span>
</code></pre></div><p><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<h2 id="å‡½æ•°ç»„ä»¶-1">å‡½æ•°ç»„ä»¶</h2>
<p><code>useState</code>è¿”å›æ•°ç»„ï¼Œç¬¬ä¸€é¡¹è¯»ï¼Œç¬¬äºŒé¡¹å†™
<!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<h3 id="åˆå§‹åŒ–-state-1">åˆå§‹åŒ– state</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-jsx" data-lang="jsx"><span class="kr">const</span> <span class="p">[</span><span class="nx">n</span><span class="p">,</span> <span class="nx">setN</span><span class="p">]</span> <span class="o">=</span> <span class="nx">React</span><span class="p">.</span><span class="nx">useState</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span> <span class="c1">//0å°±æ˜¯åˆå§‹åŒ–çš„å€¼
</span></code></pre></div><p><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<h3 id="è¯»-state-1">è¯» state</h3>
<p><code>n</code>å°±æ˜¯è¯»åˆ°çš„å€¼ï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-jsx" data-lang="jsx"><span class="p">{</span>
  <span class="nx">n</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div><p><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<h3 id="å†™-state-1">å†™ state</h3>
<p><code>setN(n+1)</code>æ°¸è¿œä¸ä¼šæ”¹å˜<code>n</code>çš„å€¼ï¼Œå®ƒä¼šäº§ç”Ÿæ–°çš„<code>n</code>ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-jsx" data-lang="jsx"><span class="p">&lt;</span><span class="nt">button</span> <span class="na">onClick</span><span class="o">=</span><span class="p">{()</span> <span class="p">=&gt;</span> <span class="nx">setN</span><span class="p">(</span><span class="nx">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)}&gt;</span><span class="o">+</span><span class="mi">1</span><span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
</code></pre></div><p><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<h1 id="å¤æ‚-state">å¤æ‚ state</h1>
<p>å¦‚æœ state é‡Œé¢æœ‰ n,m2 ä¸ªå±æ€§
<!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<h2 id="ç±»ç»„ä»¶-2">ç±»ç»„ä»¶</h2>
<p>ä¼šè‡ªåŠ¨åˆå¹¶ç¬¬ä¸€å±‚çš„ 2 ä¸ªå±æ€§ï¼Œ<!-- raw HTML omitted --><code>this.setState</code>æ”¹å˜ n çš„å€¼ï¼Œm è¿˜æ˜¯ä¼šæ²¿ç”¨åˆå§‹å€¼ï¼Œå¹¶ä¸ä¼šè¢«è¦†ç›–ä¸º<code>undefined</code><!-- raw HTML omitted -->â€‹</p>
<p>ä½†æ˜¯ä¸ä¼šåˆå¹¶ç¬¬äºŒå±‚å±æ€§<!-- raw HTML omitted -->è‡ªå·±ä½¿ç”¨<code>Object.assign</code>æˆ–è€…<code>...</code>æ“ä½œç¬¦æŠŠä¸å˜å±æ€§æ‹·è¿‡æ¥
<!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<h2 id="å‡½æ•°ç»„ä»¶-2">å‡½æ•°ç»„ä»¶</h2>
<p>ä¸ä¼šè‡ªåŠ¨åˆå¹¶<!-- raw HTML omitted -->å¦‚æœ state é‡Œé¢æœ‰å¤šä¸ªå±æ€§ï¼Œå¹¶ä¸”ä½¿ç”¨ä¸‹é¢è¿™ç§å†™æ³•</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-jsx" data-lang="jsx"><span class="kr">const</span> <span class="p">[</span><span class="nx">state</span><span class="p">,</span> <span class="nx">setState</span><span class="p">]</span> <span class="o">=</span> <span class="nx">React</span><span class="p">.</span><span class="nx">useState</span><span class="p">({</span> <span class="nx">n</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">m</span><span class="o">:</span> <span class="mi">0</span> <span class="p">});</span>
</code></pre></div><p>è¿™ç§å†™æ³• ï¼Œ</p>
<ul>
<li>ç”±äºåªæ”¹å˜ä¸€ä¸ªå€¼æ—¶ï¼Œå¦ä¸€ä¸ªå€¼ä¼šè¢«è¦†ç›–ä¸º<code>undefined</code></li>
<li>æ‰€ä»¥æ¯æ¬¡<code>setState</code>å†™å€¼æ—¶ï¼Œéœ€è¦å°†å…¶ä½™ä¸å˜å±æ€§æ‹·è´ä¸€ä»½</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-jsx" data-lang="jsx"><span class="p">&lt;</span><span class="nt">button</span> <span class="na">onClick</span><span class="o">=</span><span class="p">{()</span> <span class="p">=&gt;</span> <span class="nx">setState</span><span class="p">({</span> <span class="p">...</span><span class="nx">state</span><span class="p">,</span> <span class="nx">n</span><span class="o">:</span> <span class="nx">state</span><span class="p">.</span><span class="nx">n</span> <span class="o">+</span> <span class="mi">1</span> <span class="p">})}&gt;</span><span class="o">+</span><span class="mi">1</span><span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
</code></pre></div><p><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<h2 id="ç»“è®º">ç»“è®ºï¼š</h2>
<p>æ°¸è¿œä¸è¦ä¾èµ–è‡ªåŠ¨åˆå¹¶ï¼Œå­¦ä¼šä½¿ç”¨<code>...</code>æˆ–è€…<code>Object.assign()</code>
<!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<h1 id="äº‹ä»¶ç»‘å®š">äº‹ä»¶ç»‘å®š</h1>
<p><code>onClick</code>ã€<code>onKeyPress</code>
<!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<h2 id="ç±»ç»„ä»¶-3">ç±»ç»„ä»¶</h2>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-jsx" data-lang="jsx"><span class="c1">//addN() å†™åœ¨ç»„ä»¶é‡Œï¼Œæ˜¯ä¸€ä¸ªæ™®é€šå‡½æ•°
</span><span class="c1"></span><span class="kr">class</span> <span class="nx">Son</span> <span class="kr">extends</span> <span class="nx">React</span><span class="p">.</span><span class="nx">Component</span><span class="p">{</span>
  <span class="nx">constructor</span><span class="p">()</span> <span class="p">{</span>
    <span class="kr">super</span><span class="p">();</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">state</span> <span class="o">=</span> <span class="p">{</span>
      <span class="nx">n</span><span class="o">:</span> <span class="mi">0</span>
    <span class="p">};</span>
  <span class="p">}</span>

  <span class="nx">addN</span><span class="p">()</span> <span class="p">{</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">setState</span><span class="p">((</span><span class="nx">state</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
        <span class="kr">const</span> <span class="nx">n</span> <span class="o">=</span> <span class="nx">state</span><span class="p">.</span><span class="nx">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
        <span class="k">return</span> <span class="p">{</span> <span class="nx">n</span> <span class="p">};</span>
      <span class="p">});</span>
    <span class="p">}</span>

  <span class="c1">//renderé‡Œçš„äº‹ä»¶ç»‘å®šè¿™ä¹ˆå†™
</span><span class="c1"></span>  <span class="nx">render</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">(</span>
        <span class="p">&lt;</span><span class="nt">button</span> <span class="na">onClick</span><span class="o">=</span><span class="p">{()</span> <span class="p">=&gt;</span> <span class="k">this</span><span class="p">.</span><span class="nx">addN</span><span class="p">()}&gt;</span><span class="o">+</span><span class="mi">1</span><span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
    <span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="c1">//1.ä¼ ä¸€ä¸ªå‡½æ•°ç»™onClickå³å¯ã€‚æ³¨æ„Cå¤§å†™
</span><span class="c1"></span><span class="p">&lt;</span><span class="nt">button</span> <span class="na">onClick</span><span class="o">=</span><span class="p">{()</span> <span class="p">=&gt;</span> <span class="k">this</span><span class="p">.</span><span class="nx">addN</span><span class="p">()}&gt;</span><span class="nx">n</span><span class="o">+</span><span class="mi">1</span><span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>

<span class="c1">//2.é”™è¯¯å†™æ³•
</span><span class="c1"></span><span class="p">&lt;</span><span class="nt">button</span> <span class="na">onClick</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">addN</span><span class="p">}&gt;</span><span class="nx">n</span><span class="o">+</span><span class="mi">1</span><span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
<span class="c1">//è¿™æ ·å†™ï¼Œä¼šè®©this.addNé‡Œçš„thisæŒ‡å‘window
</span><span class="c1">//React æ˜¯è¿™ä¹ˆè°ƒç”¨çš„ï¼šbutton.onClick.call(null,event)ã€‚è¿™é‡Œçš„nullå°±æ˜¯thisã€‚thisä¸ºç©ºåˆ™æŒ‡å‘window
</span><span class="c1"></span>
<span class="c1">//3.å¯è¡Œå†™æ³•ï¼Œä½†å¤ªé•¿
</span><span class="c1">//è¿”å›äº†ä¸€ä¸ªç»‘å®šäº†å½“å‰thisçš„æ–°å‡½æ•°
</span><span class="c1"></span><span class="p">&lt;</span><span class="nt">button</span> <span class="na">onClick</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">addN</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="k">this</span><span class="p">)}&gt;</span><span class="nx">n</span><span class="o">+</span><span class="mi">1</span><span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
</code></pre></div><p>æ”¹è‰¯ç‰ˆï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-jsx" data-lang="jsx"><span class="c1">//addN å†™åœ¨constructoré‡Œ,æ˜¯ä¸€ä¸ªç®­å¤´å‡½æ•°
</span><span class="c1"></span><span class="kr">class</span> <span class="nx">Son</span> <span class="kr">extends</span> <span class="nx">React</span><span class="p">.</span><span class="nx">Component</span> <span class="p">{</span>
  <span class="nx">constructor</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">uper</span><span class="p">();</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">state</span> <span class="o">=</span> <span class="p">{</span>
      <span class="nx">n</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="p">};</span>

    <span class="k">this</span><span class="p">.</span><span class="nx">addN</span> <span class="o">=</span> <span class="p">()</span> <span class="p">=&gt;</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">setState</span><span class="p">((</span><span class="nx">state</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
        <span class="kr">const</span> <span class="nx">n</span> <span class="o">=</span> <span class="nx">state</span><span class="p">.</span><span class="nx">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
        <span class="k">return</span> <span class="p">{</span> <span class="nx">n</span> <span class="p">};</span>
      <span class="p">});</span>
  <span class="p">}</span>

  <span class="c1">//renderé‡Œçš„äº‹ä»¶ç»‘å®šè¿™ä¹ˆå†™
</span><span class="c1"></span>  <span class="nx">render</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">&lt;</span><span class="nt">button</span> <span class="na">onClick</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">addN</span><span class="p">}&gt;</span><span class="o">+</span><span class="mi">1</span><span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;;</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div><p>â€‹</p>
<p>æœ€ç»ˆæœ€ä¼˜é›…å†™æ³•ï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-jsx" data-lang="jsx"><span class="c1">//addN å†™åœ¨ç»„ä»¶é‡Œï¼Œæ˜¯ä¸€ä¸ªç®­å¤´å‡½æ•°
</span><span class="c1">//ç›´æ¥å†™åœ¨ç»„ä»¶é‡Œï¼Œæ¯”æ”¹è‰¯ç‰ˆå°‘å†™äº†ä¸€ä¸ªthis
</span><span class="c1"></span><span class="kr">class</span> <span class="nx">Son</span> <span class="kr">extends</span> <span class="nx">React</span><span class="p">.</span><span class="nx">Component</span> <span class="p">{</span>
  <span class="nx">constructor</span><span class="p">()</span> <span class="p">{</span>
    <span class="kr">super</span><span class="p">();</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">state</span> <span class="o">=</span> <span class="p">{</span>
      <span class="nx">n</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="p">};</span>
  <span class="p">}</span>

  <span class="nx">addN</span> <span class="o">=</span> <span class="p">()</span> <span class="p">=&gt;</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">setState</span><span class="p">((</span><span class="nx">state</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
      <span class="kr">const</span> <span class="nx">n</span> <span class="o">=</span> <span class="nx">state</span><span class="p">.</span><span class="nx">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
      <span class="k">return</span> <span class="p">{</span> <span class="nx">n</span> <span class="p">};</span>
    <span class="p">});</span>

  <span class="c1">//renderé‡Œçš„äº‹ä»¶ç»‘å®šè¿™ä¹ˆå†™
</span><span class="c1"></span>  <span class="nx">render</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">&lt;</span><span class="nt">button</span> <span class="na">onClick</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">addN</span><span class="p">}&gt;</span><span class="o">+</span><span class="mi">1</span><span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;;</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div><div class="post-footer" id="post-footer">
    <div class="post-info">
        <div class="post-info-line">
            <div class="post-info-mod">
                <span>æ›´æ–°äº 2022-02-14</span>
            </div>
            <div class="post-info-license"></div>
        </div>
        <div class="post-info-line">
            <div class="post-info-md"></div>
            <div class="post-info-share">
                <span></span>
            </div>
        </div>
    </div>

    <div class="post-info-more">
        <section class="post-tags"></section>
        <section>
            <span><a href="javascript:void(0);" onclick="window.history.back();">è¿”å›</a></span>&nbsp;|&nbsp;<span><a href="/">ä¸»é¡µ</a></span>
        </section>
    </div>

    <div class="post-nav"><a href="/posts/vue3%E9%80%A0%E8%BD%AE%E5%AD%90/" class="prev" rel="prev" title="Vue3é€ è½®å­é¡¹ç›®è®°å½•"><i class="fas fa-angle-left fa-fw"></i>Vue3é€ è½®å­é¡¹ç›®è®°å½•</a></div>
</div>
</article></div>
            </main><footer class="footer">
        <div class="footer-container"><div class="footer-line"><i class="far fa-copyright fa-fw"></i><span itemprop="copyrightYear">2021 - 2022</span><span class="author" itemprop="copyrightHolder">&nbsp;<a href="/" target="_blank">å¯å–œ</a></span></div>
        </div>
    </footer></div>

        <div id="fixed-buttons"><a href="#" id="back-to-top" class="fixed-button" title="å›åˆ°é¡¶éƒ¨">
                <i class="fas fa-arrow-up fa-fw"></i>
            </a><a href="#" id="view-comments" class="fixed-button" title="æŸ¥çœ‹è¯„è®º">
                <i class="fas fa-comment fa-fw"></i>
            </a>
        </div><script type="text/javascript" src="/lib/smooth-scroll/smooth-scroll.min.js"></script><script type="text/javascript" src="/lib/lazysizes/lazysizes.min.js"></script><script type="text/javascript" src="/lib/clipboard/clipboard.min.js"></script><script type="text/javascript">window.config={"code":{"copyTitle":"å¤åˆ¶åˆ°å‰ªè´´æ¿","maxShownLines":100},"comment":{}};</script><script type="text/javascript" src="/js/theme.min.js"></script></body>
</html>
